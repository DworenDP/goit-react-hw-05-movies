"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[640],{6640:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(1087),a={cardContainer:"MovieDetail_cardContainer__-5DfU",goBackBtn:"MovieDetail_goBackBtn__mzH8Z",card:"MovieDetail_card__9wTpz",cardInfo:"MovieDetail_cardInfo__kHseN",movieTitle:"MovieDetail_movieTitle__P7mzZ",score:"MovieDetail_score__GnFR7",overviewTitle:"MovieDetail_overviewTitle__TnvDe",genresTitle:"MovieDetail_genresTitle__rPDPy",genresText:"MovieDetail_genresText__a8-Nq",addInfo:"MovieDetail_addInfo__7eG0s",addTitle:"MovieDetail_addTitle__-c8Ji",addList:"MovieDetail_addList__ZQqi5",addLink:"MovieDetail_addLink__mCmJr"},i=n(184),s=function(){return(0,i.jsxs)("div",{className:a.addInfo,children:[(0,i.jsx)("h2",{className:a.addTitle,children:"Additional information"}),(0,i.jsxs)("ul",{className:a.addList,children:[(0,i.jsx)("li",{children:(0,i.jsx)(r.NavLink,{to:"cast",className:a.addLink,children:"Cast"})}),(0,i.jsx)("li",{children:(0,i.jsx)(r.NavLink,{to:"reviews",className:a.addLink,children:"Reviews"})})]})]})},c=n(9439),o=n(2791),u=n(7689),l=n(5362),d=n(311),v=function(e){var t,n=e.movie;return(0,i.jsxs)("div",{className:a.card,children:[(0,i.jsx)("img",{src:n.poster_path?"https://image.tmdb.org/t/p/w500".concat(n.poster_path):d,alt:n.original_title,width:"250",className:a.cardImage}),(0,i.jsxs)("div",{className:a.cardInfo,children:[(0,i.jsxs)("h1",{className:a.movieTitle,children:[n.title," ",n.release_date&&(0,i.jsxs)("span",{children:["(",n.release_date.substring(0,4),")"]})]}),(0,i.jsxs)("p",{className:a.score,children:["User score: ",Math.round(10*n.vote_average),"%"]}),(0,i.jsx)("h2",{className:a.overviewTitle,children:"Overview"}),(0,i.jsx)("p",{className:a.overviewText,children:n.overview}),(0,i.jsx)("h2",{className:a.genresTitle,children:"Genres"}),(0,i.jsx)("p",{className:a.genresText,children:(null===(t=n.genres)||void 0===t?void 0:t.length)>0?n.genres.map((function(e){return e.name})).join(", "):"There is no information about genres"})]})]})},f=function(){var e,t,n=(0,u.UO)().movieId,s=(0,o.useState)({}),d=(0,c.Z)(s,2),f=d[0],p=d[1],m=(0,u.TH)(),h=(0,o.useRef)(null!==(e=null===(t=m.state)||void 0===t?void 0:t.form)&&void 0!==e?e:"/");return(0,o.useEffect)((function(){try{(0,l.getMoviesDetails)(n).then((function(e){return p(e)}))}catch(e){console.log(e)}}),[n]),(0,i.jsxs)("div",{className:a.cardContainer,children:[(0,i.jsx)(r.Link,{to:h.current,children:(0,i.jsx)("button",{type:"button",className:a.goBackBtn,children:"Go back"})}),(0,i.jsx)(v,{movie:f})]})},p=n(7006),m=function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(f,{}),(0,i.jsx)(s,{}),(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)(p.a,{}),children:(0,i.jsx)(u.j3,{})})]})}},5362:function(e,t,n){n.r(t),n.d(t,{getMovieCredits:function(){return d},getMovieReviews:function(){return v},getMoviesDetails:function(){return l},getTrending:function(){return o},searchMovies:function(){return u}});var r=n(5861),a=n(7757),i=n.n(a),s=n(1243);s.Z.defaults.baseURL="https://api.themoviedb.org/3";var c="?api_key=ae71ad5454080756cca8e19f063ac455",o=function(){var e=(0,r.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/trending/movie/day".concat(c));case 2:return t=e.sent,e.abrupt("return",t.data.results.map((function(e){return{id:e.id,title:e.title}})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/search/movie".concat(c,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n.data.results.map((function(e){return{id:e.id,title:e.title}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t).concat(c,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t,"/credits").concat(c,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(t,"/reviews").concat(c,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},311:function(e,t,n){e.exports=n.p+"static/media/no_poster.c344dc625b54f6769012.png"}}]);
//# sourceMappingURL=640.be5738ed.chunk.js.map